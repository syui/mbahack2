<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: private | MBA-HACK2]]></title>
  <link href="https://mbahack2.syui.cf/blog/categories/private/atom.xml" rel="self"/>
  <link href="https://mbahack2.syui.cf/"/>
  <updated>2017-05-24T00:40:01+00:00</updated>
  <id>https://mbahack2.syui.cf/</id>
  <author>
    <name><![CDATA[syui]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[gitlab-blog]]></title>
    <link href="https://mbahack2.syui.cf/blog/2016/05/15/blog-update-q"/>
    <updated>2016-05-15T00:00:00+00:00</updated>
    <id>https://mbahack2.syui.cf/blog/2016/05/15/blog-update-q</id>
    <content type="html"><![CDATA[<p><img src="/images/more.png" alt="phoenix-power" align="left">ブログを移転するかもしれません。<!--more--><br clear="all"></p>

<h2>はじめに</h2>

<p>このブログもだいぶ古くなってきました。始めたのはどうやら2014年ぽいですね。</p>

<p>使ってる技術もデザインも何もかもが古い感じになってきたので、最近ブログ移転を考えています。</p>

<p>もう移転かと言われると、たしかにそうかもしれません。ブログやってても何一つ進歩していないなというのが正直なところです。</p>

<p>私は基本何をやっても長続きせず、それはブログでも同じです。</p>

<p>そのため進歩も進化もありません。いつまでたっても初心者のままですね。</p>

<p>しかし、時々こういった新しいことをやらないと、ますます置いて行かれそうなので移転を計画しています。</p>

<p>すいません。嘘です。</p>

<p>いや、正確には嘘ではないのですが、主たる動機はそういうことではありません。</p>

<p>私は、定期的に気分が乗ると「よし、なんか作ってみよう」、「よし、移転しよう」となるだけです。</p>

<p>今回気分が乗るきっかけになったのは、GitLabですね。</p>

<p>GitLabのWebサーバーがどれだけ安定しているのか、CIがどれだけ機能するのか、そういったものを何となく確かめたくなったというのがきっかけです。</p>

<p>もちろん、他にも理由は色々ありますが、やはり一番大きかったのは「どこで運用するか」です。</p>

<p>これまでは、GitHubのWebサーバーを利用させてもらってブログを運用していました。</p>

<p>もちろん、自分でWebサーバーから運用するというのもあります。そのほうが技術的に成長できるでしょう。</p>

<p>しかし、Webサーバーの運用をするとなると、維持、メンテナンスのコスト、ドメイン管理、セキュリティなど様々なことを考えなければならないので、私は、そこを他人に任せることにしています。</p>

<p>いわゆる丸投げってやつです。</p>

<p>人気ブログならまだしも、誰も読まないようなブログですからね。</p>

<p>そして、今度は、GitLabに丸投げして様子を見てみようかなと思った次第です。</p>

<p>これがブログ移転を計画している主な理由です。</p>

<p>ブログを移転すると、リダイレクトしないかぎりアドレスが変わります。</p>

<p>なので、移転する場合は割と一瞬だと思うので、一応ここで告知をしておきます。</p>

<p>ただ、移転を必ず実行するかと言われると、そうでもなくて、あくまで気分次第ということになると思われます。</p>

<p>そして、今回は、ブログ移転するとしたらどんな感じでやるのか、その辺りを考えてみました。</p>

<p>前振りが長くなりましたが、そういうのをメモ程度に残しておこうと思います。</p>

<h2>見た目参考にしたいページ</h2>

<p><a href="https://github.com/codrops">https://github.com/codrops</a></p>

<p>とりあえず参考にしたいと思ったのは<code>codrops</code>です。ホームページもそうですが、主にライブラリですね。</p>

<h2>テンプレート</h2>

<p>テンプレートは<code>bootstrap</code>もいいですが、あまり多機能を求めないなら、<code>milligram</code>が良さそうです。</p>

<p><a href="https://github.com/milligram/milligram">https://github.com/milligram/milligram</a></p>

<p><a href="https://github.com/twbs/bootstrap">https://github.com/twbs/bootstrap</a></p>

<p><a href="https://github.com/behigh/bootstrap_dropdowns_enhancement">https://github.com/behigh/bootstrap_dropdowns_enhancement</a></p>

<h2>フォント</h2>

<p><code>milligram</code>にあっているフォントは<code>ionicons</code>です。</p>

<p><a href="https://github.com/FortAwesome/Font-Awesome">https://github.com/FortAwesome/Font-Awesome</a></p>

<p><a href="https://github.com/github/octicons">https://github.com/github/octicons</a></p>

<p><a href="https://github.com/driftyco/ionicons">https://github.com/driftyco/ionicons</a></p>

<h2>その他</h2>

<p>機能とかエフェクトとか。多分滅多なことでは使わないと思います。SSLでは表示できないものも多いですし、何より私が読む側だった場合、あまりおしゃれすぎるサイトっていうのは、なんか行きにくいと思っているからです。</p>

<p><a href="https://github.com/codrops/Animocons">https://github.com/codrops/Animocons</a></p>

<p><a href="https://github.com/jcubic/jquery.terminal">https://github.com/jcubic/jquery.terminal</a></p>

<p><a href="https://github.com/wmdmark/react-terminal">https://github.com/wmdmark/react-terminal</a></p>

<p><a href="https://github.com/gregjacobs/Autolinker.js">https://github.com/gregjacobs/Autolinker.js</a></p>

<p><a href="https://github.com/sntran/ReactUI">https://github.com/sntran/ReactUI</a></p>

<p><a href="https://github.com/VincentGarreau/particles.js/">https://github.com/VincentGarreau/particles.js/</a></p>

<p><a href="https://github.com/pklauzinski/jscroll">https://github.com/pklauzinski/jscroll</a></p>

<p><a href="https://github.com/jonhmchan/descartes">https://github.com/jonhmchan/descartes</a></p>

<p><a href="https://github.com/h5bp/html5-boilerplate">https://github.com/h5bp/html5-boilerplate</a></p>

<p>まあ、SSLを無視するならTerminal機能は入れてみたいなあと思っています。リンクとか必要な情報とかをそれで表示できるようにすれば自分が便利そう。</p>

<p>ですが、SSL有効時にプライバシー侵害サイトの警告が出るので無理です。ユーザー入力を読み取る機能が含まれるので。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[update-items]]></title>
    <link href="https://mbahack2.syui.cf/blog/2016/02/07/update-items"/>
    <updated>2016-02-07T00:00:00+00:00</updated>
    <id>https://mbahack2.syui.cf/blog/2016/02/07/update-items</id>
    <content type="html"><![CDATA[<p><img src="/images/more.png" alt="phoenix-power" align="left">お気に入りの製品に新しいバージョンなどが出てたので、購入。<!--more--><br clear="all"></p>

<p><a href="http://lte.so-net.ne.jp/sim/0sim/">0 SIM</a> &hellip;月間通信量500MB未満は無料。以降100MBごとに100円。上限は2GBで1600円</p>

<p><a href="http://www.amazon.co.jp/dp/B0157PHY38/">ロジクールマウス</a> &hellip;おすすめのBluetoothマウス</p>

<p><a href="http://www.amazon.co.jp/dp/B013HH2J6U">1byoneヘッドセット</a> &hellip;おすすめのBluetoothイヤホン</p>

<p><a href="http://www.amazon.co.jp/dp/B00R3401FA/">Adonit Jot Pro</a> &hellip;おすすめのスタイラスペン</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[amazon-bag-grandstone]]></title>
    <link href="https://mbahack2.syui.cf/blog/2015/10/31/amazon-bag-grandstone"/>
    <updated>2015-10-31T00:00:00+00:00</updated>
    <id>https://mbahack2.syui.cf/blog/2015/10/31/amazon-bag-grandstone</id>
    <content type="html"><![CDATA[<p><img src="/images/more.png" alt="phoenix-power" align="left">私は、バッグはグランド・ストーン(GRAND STONE)製を愛用しているのですが、新色が出てましたので、紹介します。<!--more--><br clear="all"></p>

<p>私が使ってるのは、2013,2014年のものなので結構古いんですが、GRAND STONEのバランスシリーズのワンショルダーバッグを使っています。型番は8061のもの。色は<a href="www.amazon.co.jp/dp/B00E3NX37C/">ブラック</a>。とても気に入っています。今見たら新色が出ていました。</p>

<h2>BALANCE 8061</h2>

<p>カバンのサイズは、<code>H50xW38xD13</code>です。見た目小さいし、コンパクトですが、結構入ります。久しぶりに見てみると、新たに以下の新色が出ていました。昔は、グレーとブラックのみでした。</p>

<p><a href="https://www.amazon.co.jp/dp/B00E3NX37C/">ネイビー</a></p>

<p><img src="http://ecx.images-amazon.com/images/I/61gnfvAZqPL._UL1000_.jpg" alt="amazon" width="480" height="272"></p>

<p><a href="https://www.amazon.co.jp/dp/B00JO94GPS/">カモ</a></p>

<p><img src="http://ecx.images-amazon.com/images/I/61xKODpw56L._UL1000_.jpg" alt="amazon" width="480" height="272"></p>

<p>バッグや靴、服、他のものもそうですが、選ぶのって結構大変で面倒くさいですよね。私の場合は、バッグはGRAND STONE、靴はNIKEなどと決めているので、少しは楽なんですけど、選択的煩雑さを回避するには、自分に合ったメーカーを決めておくと良いかもしれません。</p>

<p>ついでに、私がある程度信頼をおいている各製品ごとのメーカーを紹介しておきます。そのメーカーのやつより、このメーカーのものがいいよっていうのがあったらぜひ教えて下さい。</p>

<h2>メーカー</h2>

<table>
<thead>
<tr>
<th>製品 </th>
<th> メーカー</th>
<th>コメント</th>
</tr>
</thead>
<tbody>
<tr>
<td>バッグ</td>
<td><a href="http://www.amazon.co.jp/s/ref=w_bl_sl_s_sh_web_2016926051?ie=UTF8&amp;node=2016926051&amp;field-brandtextbin=GRANDSTONE%28%E3%82%B0%E3%83%A9%E3%83%B3%E3%83%89%E3%82%B9%E3%83%88%E3%83%BC%E3%83%B3%29">GRAND STONE</a></td>
<td>見た目と性能で判断しましたが、主に見た目ですね。個人的には好きなデザインが多い。</td>
</tr>
<tr>
<td>シューズ</td>
<td><a href="http://www.amazon.co.jp/NIKE-%E3%83%8A%E3%82%A4%E3%82%AD/b/ref=w_bl_sl_b_sh_web_2322103051?ie=UTF8&amp;node=2322103051&amp;field-lbr_brands_browse-bin=NIKE%28%E3%83%8A%E3%82%A4%E3%82%AD%29">NIKE</a></td>
<td>昔から、靴はナイキだった。特に理由はない。</td>
</tr>
<tr>
<td>デバイス</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_3210981?ie=UTF8&amp;node=3210981&amp;field-brandtextbin=%E3%82%A2%E3%83%83%E3%83%97%E3%83%AB">Apple</a>, <a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=Google">Google</a>, <a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%BD%E3%83%95%E3%83%88">Microsoft</a></td>
<td>タブレット、スマホ、パソコンなどのデバイスは、OSを作ってる企業が出している製品が一番よいです。</td>
</tr>
<tr>
<td>SIMカード</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_3210981?ie=UTF8&amp;node=3210981&amp;field-brandtextbin=IIJ">IIJ</a></td>
<td>パソコンやスマホ、タブレット等に挿すことでインターネットに接続できるようになります。</td>
</tr>
<tr>
<td>無線LANルーター</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%90%E3%83%83%E3%83%95%E3%82%A1%E3%83%AD%E3%83%BC">BUFFALO</a></td>
<td>初めて買ったのがバッファロー製で、特に問題を感じなかったので。</td>
</tr>
<tr>
<td>USBメモリ</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%88%E3%83%A9%E3%83%B3%E3%82%BB%E3%83%B3%E3%83%89%E3%83%BB%E3%82%B8%E3%83%A3%E3%83%91%E3%83%B3">Transcend</a></td>
<td>トランセンドのメモリは、見た目かっこいいので気に入ってます。</td>
</tr>
<tr>
<td>MicroSD</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%88%E3%83%A9%E3%83%B3%E3%82%BB%E3%83%B3%E3%83%89%E3%83%BB%E3%82%B8%E3%83%A3%E3%83%91%E3%83%B3">Transcend</a></td>
<td>こちらもトランセンドのものに変更。PSP時代にはSanDiskのものを愛用していたのですが。</td>
</tr>
<tr>
<td>マウス</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%AD%E3%82%B8%E3%82%AF%E3%83%BC%E3%83%AB">Logicool</a></td>
<td>初めて買ったのがロジクール製だったし、使いやすかったので。</td>
</tr>
<tr>
<td>キーボード</td>
<td>-</td>
<td>キーボードは今まで買ったことがなく、どのメーカーのがいいのかわからないです。今のところ、Logicoolが候補です。</td>
</tr>
<tr>
<td>ハードディスク</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=WESTERNDIGITAL">WESTERNDIGITAL</a></td>
<td>実は、WD製のHDDは、何度か故障して復旧不可能になってます。原因は不明なものが多いし、そういうものかなあと思ってるんですが、そうでなければ、どのメーカーのものが良いのか分かりません。</td>
</tr>
<tr>
<td>ディスプレイ</td>
<td><a href="http://www.amazon.co.jp/s/ref=bl_dp_s_web_2127209051?ie=UTF8&amp;node=2127209051&amp;field-brandtextbin=%E3%83%99%E3%83%B3%E3%82%AD%E3%83%A5%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%91%E3%83%B3">BenQ</a></td>
<td>ディスプレイはBenQで統一していますが、正直、どれがいいのかわかってません。</td>
</tr>
</tbody>
</table>


<h3>コメント補足</h3>

<p>私が搭載OSを作ってるところが出しているデバイスが最も良いと考える理由は、一つに不要なアプリが入ってないからです。二つ目には安定性です。なお、Googleだけは製造メーカーではないので、様々な会社にNexusシリーズを依頼していますが、基本的に、この場合はクライアントがGoogleなので、Google製と私は表現しています。例えば、Nexus7はGoogleがクライアントになって台湾のAsusが作っているけど、私はGoogle製と呼んでいます。Nexusは不要アプリが入れられてませんし、動作も安定してる印象です。そのような理由から、WindowsパソコンもMicrosoftが出してる<a href="https://www.amazon.co.jp/dp/B016ZZIUDM/">Surface</a>がおすすめです。</p>

<p>SIM Cardの契約は、月々契約が必要ですが、通常は一人一つは持っておくものだと思います。この場合、携帯キャリア3社のサービスが必要になることはほとんどありません。特に技術者や知識者の方々は個々の経済事情にかかわらず、携帯キャリア3社が提示するような契約内容に基本、同意すべきではないと思っています。したがって、ネット接続及びその運用は、出来る限り個々で管理するSIMによって行って欲しいと私個人は考えています。SIMロックされた端末とそれ専用のSIMカードというでなく、フリーでどの端末でも使えるものという意味で。キャリアが提示する契約はよくよく考えてみると、通常の判断能力を有する一般人がその自由意思に基づいて合意したとは到底考えられないような内容を幾つか含んでいます。具体的には、2年自動更新、強制オプションの加入、端末自体を永続的に不便にするロックシステム、その他、訳の分からない料金プラン等。こういう怪しげな契約を提示する企業とは、出来る限り関わりを避けるべきだと個人的には考えています。そういえば、IIJmio SIM Cardの<a href="http://www.amazon.co.jp/dp/B014GZEPPK/">キャンペーン</a>は2015/10/31(今日)まで700円で買えるのでおすすめです。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[mt4-ea-tester]]></title>
    <link href="https://mbahack2.syui.cf/blog/2015/09/20/mt4-ea-tester"/>
    <updated>2015-09-20T00:00:00+00:00</updated>
    <id>https://mbahack2.syui.cf/blog/2015/09/20/mt4-ea-tester</id>
    <content type="html"><![CDATA[<p><img src="/images/more.png" alt="phoenix-power" align="left">少しだけ自分の考えを述べます。あと、システムトレードで利益を出すために必要そうなこととかを予測します。<!--more--><br clear="all"></p>

<h2>バックテストを日本円で計算してみたよ</h2>

<p>少しバックテストの結果がわかりにくかったので、日本円で計算してみたのと、複利システムを用いてやってみた結果を表示します。それと少しばかり私の言いたいことを載せます。</p>

<p><figure class='code'><figcaption><span>複利システムのコード例 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">double</span> <span class="n">blots</span><span class="p">;</span>
</span><span class='line'><span class="kt">double</span> <span class="n">clots</span><span class="p">;</span>
</span><span class='line'><span class="n">blots</span> <span class="o">=</span> <span class="n">AccountBalance</span><span class="p">()</span> <span class="o">/</span> <span class="mi">200000</span><span class="p">;</span>
</span><span class='line'><span class="n">clots</span> <span class="o">=</span> <span class="n">blots</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">;</span>
</span><span class='line'><span class="n">Lots</span> <span class="o">=</span> <span class="n">clots</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></p>

<blockquote><p>sell, gbp/jpy, m5, forex, 2015.01.01-2015.09.20</p></blockquote>

<p><a href="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_02d.png"><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_02d.png"></a></p>

<p>バックテストの結果としては、10ヶ月で20万が700万になったという感じになっています。</p>

<blockquote><p>buy, gbp/jpy, m5, forex, 2015.01.01-2015.09.20</p></blockquote>

<p><a href="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_01d.png"><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_01d.png"></a></p>

<p>こちらも、まあ、改めて見ると、相当ひどいシステムだと思いましたが、10ヶ月で20万からはじめ、50万という結果。</p>

<h2>少し厳しい現実の話</h2>

<p>では、本当にこんな風になるんだろうか。私はならない確率のほうが圧倒的に高いと見ています。</p>

<p>例えば、Sellのテスト結果にある相対的ドローダウンの値を見てください。</p>

<p>この値は、私的解釈が多少入りますが、私は、「こうならなかった確率」のことだと考えています。</p>

<p>そして、テストでは相対的ドローダウンは50%程度あります。</p>

<p>つまり、実取引では、このような結果にならない確率が50%あるということです(多少、論理が飛躍していますが、感覚的にはこんな感じだと思います)。</p>

<p>また、現実問題としてはあらゆる不確定要素が多く存在します。その点で、未来を予測することは限りなく不可能に近いということです。</p>

<p>私自身、このプログラムには、その不確定要素を確定し、排除し、対応する処理を書いていませんし、全く書ききれていません。</p>

<p>そして、もう一つだけ面白い話があります。</p>

<p>それは、システムトレードをしている人達が書いているブログです。</p>

<p>彼らに共通して言えることは、「はじめはバックテストの結果に驚嘆し、これなら行けると自動売買を始めたが、利益は全く出ないばかりか、損ばかりだった」と書いているということです。例外は今のところ見たことないですね。</p>

<p>で、システムトレードで利益を出し始めた時のことも書いていて、「常にシステムをアップデートし続け、複数のシステムで運用し、ダメなものは入れ替え、またはイチから作り直していると、やっと利益が出るようになってきた」と言っています。</p>

<p>つまり、システムトレードで継続的な利益を出そうと思ったら、複数のシステムを時に改良し、時に入れ替えながらやっていかなければ難しいんじゃないかってことです。</p>

<p>これは、簡単なことのように見えて、実は大変なことだと思います。</p>

<p>そうですね。私の場合も、この先人達の言ってることを信じるなら、初心者が思いつきで作ったとてもシンプルなシステムが、実取引でバックテストのように利益をもたらすとは考えにくい、というか、その確率は極めて低いと考えているのです。</p>

<p>やはり、システムトレードで利益を出すには、「常にシステムをアップデートし続け、複数のシステムで運用し、ダメなものは入れ替え、またはイチから作り直す」という絶えまない努力が必要だと考えられ、もしその過程を経ずにたまたま利益が出たならば、それは運が良かったに過ぎず、1年以内、もしくは数年以内にダメになる確率が高いと思います。</p>

<p>これについては、私は、諦めたわけでも、希望を持ってないわけでも、絶望しているわけでもないのですが、まあ、書き方があまりに投げやりだったかもしれないなあと。もちろん、偶然にも上手くいくかもしれないけど、確率的には低いだろうと見ているということです。</p>

<p>ただ、私はシステムトレードをされている方々のブログを読んでみて、システムトレードで利益を継続的に出し続けるというのは難しいことなんだなーと思いました。</p>

<p>反対に、私のような初心者がいきなり利益を出し続ける確率は、とても低いだろうと予測しました。</p>

<p>なので、試してみてもいいけど、上手くいく確率はあまり高くないので、面白そうな試みではありそうだけど、あまり乗り気はしないなー、と思ってます。なので、多分やらない。</p>

<p>仮に上手く言ったとしても、1年以内に作り直さないと、停止せざるを得ないでしょうね。つまり、偶然に上手くいっても、このシステムでの運用は1年が限度ということで考えてます。これは、どれほど優秀なシステムであろうと、いずれ使えなくなるってことを意味します。まあ、使える場面、使えなくなる場面の両方、くり返し訪れると思いますが&hellip;。</p>

<h2>個人的なお金の考え</h2>

<p>私のお金の使い方や物の買い方は非常に偏っていて、一つに、物そのものよりも、新しい体験や経験に依存するような気がしています。</p>

<p>スマホはiPhoneなくせに、タブレットはNexus7を選択したり、MacBookにArch Linuxを入れたりと。</p>

<p>これは、単に、iOSは経験済みなので、Androidを使ってみたかったとか、そんな感じの理由から来るものでした。</p>

<p>そして、最近、2台のMacbook Airが古くなってきたこともあり、特に不満はないもののMacbook Proを買おうかと思ったことがありました。</p>

<p>しかし、よくよく考えてみると、それならAmazonのギフトを買ったほうがよほど良さそうだなって思いました。</p>

<p>なぜなら、Macbook Proに入ってるOSXは既に体験済みであり、私にとってそれほど魅力的なものではなくなってきているからですね。</p>

<p>反対に、Amazonギフトならたくさんの新しいもの、具体的にはKindleで本を買えたりするので、良さそうに思いました。</p>

<p>ただ、私は本を買っても読まないし、本を読むならなにか作ったほうが良いだろうということで、何かを作ってる時間のほうが多いため、Amazonギフトも自分にとってあまりよい選択肢ではないような気がしました。</p>

<p>そこで、MetaTraderでEAを作ってMacbook Proに使うはずだったお金をそこに使ったほうが面白いかもと思いました。</p>

<p>なので、このシステムはそんな考えの副産物。</p>

<p>ちなみに、Macbook Proを買うのと、Amazonギフトを買うのと、投資でそのお金を0(ゼロ)にするのと、みなさまはどれが一番良いと考えられますか。</p>

<p>私は、基本的に、どれも消費だと思っています。そして、そのような観点から見れば、どれも等しく同列だと考えています。</p>

<p>20万円をMacbook Proに変えるのも、Amazonギフトに消費するのも、自分が作った自動売買システムでゼロにするのも、どれも等しい消費だと思っています。</p>

<p>しかし、手に入る物はそれぞれに違うとは思います。</p>

<p>Macbook Proの場合、モノが手に入ります。しかし、このモノはもう既に持っているモノです。少しばかり性能が違うにすぎません。そのため、あまり面白くはないとは感じます。</p>

<p>次に、Amazonは、知識が手に入ります。主にkindleを買った場合に限りますが。しかし、私なら、知識を蓄えるだけのために時間を使うのはもったいない気がしています。なので、基本的には、何かを作りながら学ぶという時間の使い方をしたほうが効率的だと考えています。そして、知識はインターネットで手に入るものだったりします。なので、知識とはいっても、読書はやはり娯楽に近いものだと思います。読書してる人は偉いとかいう話でもなさそう。</p>

<p>最後に、EAでの取引に使うと、20万と引き換えに、経験が手に入ります。現時点では、不確定要素が多すぎて、ある程度、それを確定させないと、どのようにシステムを構築し、プログラムを作ればよいのかの判断ができない状態なので、この経験は使えるシステムを構築する際に必要そうだと思います。そして何より、新しい体験ができるので、個人的には一番面白そうだというのがありました。私の予測では、最初の取引から、予想外の損失の連続によって、いくつか初期プログラムの修正を余儀なくされるだろうと思ってます。</p>

<p>では、モノがいいのか、知識がいいのか、経験がいいのか。この中でどれが一番良いのでしょうか。</p>

<p>私は、これらの中でどれが一番優れているかは、使い方次第ということになると考えています。</p>

<p>例えば、いくら経験を積んでも、その経験を生かせなければ全く意味ないですし、反対に、私のような初心者がパソコンを購入したところで、正直、全く使いこなせないので、あまり意味が無いですし。</p>

<p>こんなことを考えるうちに、色んなお金の使い方があるんだなあと思いました。なので、今回の件で、適当に思ったこと、感じたことを書いてみた次第です。</p>

<p>では。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[mt4-ea-origin]]></title>
    <link href="https://mbahack2.syui.cf/blog/2015/09/19/mt4-ea-origin"/>
    <updated>2015-09-19T00:00:00+00:00</updated>
    <id>https://mbahack2.syui.cf/blog/2015/09/19/mt4-ea-origin</id>
    <content type="html"><![CDATA[<p><img src="/images/more.png" alt="phoenix-power" align="left">MetaTraderのEAを作ってバックテストしてみた。<!--more--><br clear="all"></p>

<h2>はじめに</h2>

<p>MT4,MT5という有名なチャートアプリがあるのだけど、そこでEAという自動売買プログラムを稼働させられるので、MQL4,MQL5などの言語を使って適当に書いてみました。</p>

<p><a href="http://www.metatrader4.com/">MetaTrader4</a></p>

<p><a href="http://www.metatrader5.com/">MetaTrader5</a></p>

<p>で、その際、バックテストを少し調整しながら作ったのだけど、システムトレードで利益をあげられるかというと、私は、いくらバックテストの結果が良好でも難しいんじゃないかと思いました。あと、この分野、システムトレードで検索してみて、本当にまともなサイトや情報が少ない印象があります。宣伝や広告、よくわからない商材の紹介などばかりで胡散臭いものが多かったです。</p>

<p>そんな中でまともっぽいサイトも少しばかりありましたので、私が見かけた中でまともっぽいサイトを紹介。</p>

<ul>
<li><a href="http://autofx-now.com/">http://autofx-now.com/</a></li>
</ul>


<p>中の人が見えているので、とても好印象。更に、可能な限りのリスクヘッジで自動売買の取引をされているみたいで、1ヶ月の利益が+1000から+10000の間という感じです。</p>

<ul>
<li><a href="http://tasfx.net/">http://tasfx.net/</a></li>
</ul>


<p>こちらのサイトの中の人は、プロトレーダーということみたいですが、サイトの作りが標準的で好印象。他のサイトは、FC2とかFC2とかばかりですし、そうでなくても見た目的に胡散臭いサイトが多いので。</p>

<h2>プログラムを作成した感想</h2>

<p>C言語に慣れている場合は、MQL4,MQL5はとても書きやすい印象。</p>

<p>指針としては、出来る限りシンプルなシステムにするということを考えました。</p>

<p>そして、基本的には値の調整ではなく、エントリーとイグジットを調整することで、バックテストの結果を見ながら修正していくという感じで作りました。</p>

<p>1度のストップでシステムを停止するようにしています。また、1日に1回のトレードに制限しています。また、損切りを頻繁に行うように設定しています。</p>

<p>アイディアとしては、M5からエントリーできるポイントを探し、それを長い時間軸をフィルタとして設定する感じです。したがって、エントリーできる回数は非常に少なくなっています。</p>

<h2>バックテストを行ってみて感じたこと</h2>

<p>バックテスト後、いくつか手動でエントリー、イグジットポイントを確認してみたところ、バックテストの結果が全く当てにならないと思いました。</p>

<p>また、ヒストリーデータがそれぞれ使用する口座によって異なること、実際に計算される値や描写がチャートとずれること、実取引においての不確定要素の多数(スプレッドや約定拒否、スリッページなど)が挙げられます。</p>

<p>個人的な話になるのだけど、最近、MacBook Proを買おうか、Amazonで20万円分のギフトを買おうかどうしようか迷ってたのですが、やはり、Amazonで20万円分のギフトを購入したほうが良いだろうという結論に達しました。</p>

<p>でも、これではあまり面白くないので、自分が作ったEAがどれくらいでダメになるか見てみるのも面白いかもしれないなあと思い作成してみました。</p>

<p>ちなみに、私のプログラムでは、ストップと言って100pipsの損失が出ると、自動的にプログラムが停止するようにしていますので、いつまで稼働してられるかということですね。あと、利益は、多分ほとんど出ないんじゃないかなあ。どれくらい損失が出るか否かの問題な気がする。</p>

<p>まあ、時間があればということですが(多分やらない&hellip;)。</p>

<p>バックテストの結果は以下。</p>

<h3>Sell</h3>

<blockquote><p>gbp/jpy,m5,forex,2015.01.01-2015.09.18</p></blockquote>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_01a.png" alt="" /></p>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_01b.png" alt="" /></p>

<h3>Buy</h3>

<blockquote><p>gbp/jpy,m5,forex,2015.01.01-2015.09.18</p></blockquote>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_02a.png" alt="" /></p>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_02b.png" alt="" /></p>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/mt4_first_ea_02c.png" alt="" /></p>

<p>基本的にはエントリー回数は少なく、どちらのEAも結構頻繁に損切りするようになってます。勝率は70%前後でそこそこ。成績はあまり良くない感じですね。これで実取引を行うと耐えられないのではって感じします。ただ、どれだけバックテストの成績が良くても、実取引に耐えられるシステムは相当少ないと思うので、まあ、どちらに転ぶかはわかりませんが&hellip;。</p>

<p>特徴としては、パラメーターをいじることはほとんどしてなくて、主にエントリー、イグジットポイントを調整してるって感じです。あと、Buy(買)とSell(売)で分けています。まとめてもいいんですが、分けたほうが検証しやすそうだと思ったので。</p>

<p>あと、上のBuyとSellのシステムはロジックが全く異なります。別のプログラム、システムトレードと言ってよいでしょう。同じロジックで作るのは時間がもったいないので、できるだけたくさんの検証をしたかったので。</p>

<h2>コード</h2>

<p>一部のコードを解説します。基本的に思いついたのをバラバラに。なので、必要な変数とかは個別に設定してあげてください。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>// Custom Indicator, <span class="p">&amp;</span>ndash<span class="p">;</span>最後の0はローソクの0個前、1個前、2個前などの値です, 他は時間が多い, PERIOD_M5のところは0で現在のチャート時間を使用
</span><span class='line'>double FOO<span class="p">;</span>
</span><span class='line'><span class="nv">FOO</span> <span class="o">=</span> iCustom<span class="o">(</span>NULL, PERIOD_M5, <span class="p">&amp;</span>ldquo<span class="p">;</span>foo<span class="p">&amp;</span>rdquo<span class="p">;</span> ,fastperiod, 0.3, 0.3,0<span class="o">)</span><span class="p">;</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// Default Indicator
</span><span class='line'>double WPR<span class="p">;</span>
</span><span class='line'><span class="nv">WPR</span> <span class="o">=</span> iWPR<span class="o">(</span>NULL, 0, 14, 0<span class="o">)</span><span class="p">;</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// ポジションがあれば
</span><span class='line'><span class="k">if</span> <span class="o">(</span>OrdersTotal<span class="o">()==</span>1
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    //エントリー価格から現在価格を引いたポイントがストップトレーリングよりも大きければ
</span><span class='line'>    <span class="k">if</span><span class="o">(</span>Bid-OrderOpenPrice<span class="o">()</span>&gt;Point*TrailingStop<span class="o">)</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>        //ストップをエントリー価格に変更し、指値を設定
</span><span class='line'>        <span class="nv">Stop_Test_A</span> <span class="o">=</span> OrderModify<span class="o">(</span>OrderTicket<span class="o">()</span>, OrderOpenPrice<span class="o">()</span>, Bid + <span class="o">(</span>StopLoss * Point<span class="o">)</span>, 0, 0, Red<span class="o">)</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// ストップロスの設定, <span class="p">&amp;</span>ndash<span class="p">;</span>OrderSendで設定されない場合があります
</span><span class='line'><span class="k">if</span> <span class="o">(</span>OrdersTotal<span class="o">()==</span>1
</span><span class='line'>    <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> OrderStopLoss<span class="o">()==</span>0<span class="o">){</span>
</span><span class='line'>    <span class="k">if</span><span class="o">(</span>OrderType<span class="o">()==</span>OP_SELL<span class="o">){</span>
</span><span class='line'>        <span class="nv">Stop_Test_C</span> <span class="o">=</span> OrderModify<span class="o">(</span>Ticket_S,OrderOpenPrice<span class="o">()</span>,Bid + <span class="o">(</span>StopLoss * Point<span class="o">)</span>,0,Red<span class="o">)</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// 23時55分でなければ, <span class="p">&amp;</span>ndash<span class="p">;</span>損切りになりやすい時間帯を避けるために有効
</span><span class='line'><span class="k">if</span><span class="o">(</span>   TimeHour<span class="o">(</span>TimeCurrent<span class="o">())</span> !<span class="o">=</span> 23
</span><span class='line'>   <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> TimeMinute<span class="o">(</span>TimeCurrent<span class="o">())</span>!<span class="o">=</span><span class="m">55</span> <span class="o">){}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// トレード回数制限
</span><span class='line'>static int <span class="nv">TradeCnt</span> <span class="o">=</span> 0<span class="p">;</span>
</span><span class='line'>// 0時に値をリセット
</span><span class='line'><span class="k">if</span><span class="o">(</span>TimeHour<span class="o">(</span>CurTime<span class="o">())==</span><span class="m">00</span> <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> TimeMinute<span class="o">(</span>CurTime<span class="o">())==</span>00<span class="o">)</span> <span class="nv">TradeCnt</span> <span class="o">=</span> 0<span class="p">;</span>
</span><span class='line'>// ポジションがなければ
</span><span class='line'><span class="k">if</span> <span class="o">(</span>OrdersTotal<span class="o">()==</span>0
</span><span class='line'>    // トレード回数が1回以下なら
</span><span class='line'>    <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> TradeCnt <span class="p">&amp;</span>lt<span class="p">;</span> <span class="m">1</span> <span class="o">)</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    //エントリー条件にインジケータの値を使用
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span>    FOO <span class="p">&amp;</span>lt<span class="p">;</span> 1
</span><span class='line'>        <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> WRP &gt; 0
</span><span class='line'>        <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> <span class="o">(</span> <span class="nv">Ticket_L</span> <span class="o">==</span> <span class="m">0</span> <span class="o">||</span> <span class="nv">Ticket_L</span> <span class="o">==</span> -1 <span class="o">)</span>
</span><span class='line'>        <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> <span class="o">(</span> <span class="nv">Ticket_S</span> <span class="o">==</span> <span class="m">0</span> <span class="o">||</span> <span class="nv">Ticket_S</span> <span class="o">==</span> -1 <span class="o">))</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>        //オーダーの実行
</span><span class='line'>        <span class="nv">Ticket_L</span> <span class="o">=</span> OrderSend<span class="o">(</span>Symbol<span class="o">()</span>,OP_BUY,Lots,Ask,Slippage,Ask - <span class="o">(</span>StopLoss * Point<span class="o">)</span>,0,Comments,MAGIC,0,Blue<span class="o">)</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// シグナルでアラートを鳴らす
</span><span class='line'>extern string <span class="nv">SoundAlert</span> <span class="o">=</span> <span class="p">&amp;</span>ldquo<span class="p">;</span><span class="nb">true</span><span class="p">&amp;</span>rdquo<span class="p">;;</span>
</span><span class='line'><span class="k">if</span><span class="o">(</span><span class="nv">SoundAlert</span> <span class="o">==</span> <span class="p">&amp;</span>ldquo<span class="p">;</span><span class="nb">true</span><span class="p">&amp;</span>rdquo<span class="p">;</span><span class="o">){</span>
</span><span class='line'>    <span class="k">if</span><span class="o">(</span> FOO &gt; <span class="m">1</span> <span class="o">)</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>        PlaySound<span class="o">(</span><span class="p">&amp;</span>ldquo<span class="p">;</span>alert.wav<span class="p">&amp;</span>rdquo<span class="p">;</span><span class="o">)</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;if<span class="o">(</span> WRP <span class="p">&amp;</span>lt<span class="p">;</span> <span class="m">0</span> <span class="o">)</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    PlaySound<span class="o">(</span><span class="s2">&quot;alert.wav&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="o">}</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// ウィンドウとアラート
</span><span class='line'>double WNA<span class="p">;</span>
</span><span class='line'><span class="nv">WNA</span> <span class="o">=</span> iWPR<span class="o">(</span>NULL, 0, 14, 0<span class="o">)</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span><span class="o">(</span><span class="nv">SoundAlert</span> <span class="o">==</span> <span class="p">&amp;</span>ldquo<span class="p">;</span><span class="nb">true</span><span class="p">&amp;</span>rdquo<span class="p">;</span><span class="o">){</span>
</span><span class='line'>    <span class="k">if</span><span class="o">(</span> WNA &gt; -20<span class="o">)</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>        Alert<span class="o">(</span><span class="p">&amp;</span>ldquo<span class="p">;</span>Up<span class="p">&amp;</span>rdquo<span class="p">;</span>,Symbol<span class="o">()</span>,<span class="p">&amp;</span>ldquo<span class="p">;</span>-<span class="p">&amp;</span>rdquo<span class="p">;</span>,Period<span class="o">())</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">if</span><span class="o">(</span> WNA <span class="p">&amp;</span>lt<span class="p">;</span> -80<span class="o">)</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>        Alert<span class="o">(</span><span class="p">&amp;</span>ldquo<span class="p">;</span>Down<span class="p">&amp;</span>rdquo<span class="p">;</span>,Symbol<span class="o">()</span>,<span class="p">&amp;</span>ldquo<span class="p">;</span>-<span class="p">&amp;</span>rdquo<span class="p">;</span>,Period<span class="o">())</span><span class="p">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="k">return</span><span class="o">(</span>0<span class="o">)</span><span class="p">;</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;// メール通知, <span class="p">&amp;</span>ndash<span class="p">;</span>アドレスとサーバーはMetaTraderの設定にて
</span><span class='line'>SendMail<span class="o">(</span><span class="p">&amp;</span>ldquo<span class="p">;</span>title<span class="p">&amp;</span>rdquo<span class="p">;</span>,<span class="p">&amp;</span>ldquo<span class="p">;</span>post<span class="p">&amp;</span>rdquo<span class="p">;</span><span class="o">)</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></p>

<h2>MetaTrader4の設定</h2>

<h3>日本円でのテスト</h3>

<p>テスター, エキスパート設定と進み、そこで通貨を手動でJPYと入力することで日本円でのテストができます。</p>

<h3>口座登録</h3>

<p>ファイル, デモ口座の申請, add new brokerにて使用するブローカーのサーバーを検索し、既存のアカウントを使用すると、口座を使えるようになります。</p>

<h3>LinuxでのMetaTraderの起動</h3>

<p>Arch LinuxでWineからMetaTraderを起動する方法です。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>vim /etc/pacman.conf
</span><span class='line'><span class="o">[</span>multilib<span class="o">]</span>
</span><span class='line'><span class="nv">Include</span> <span class="o">=</span> /etc/pacman.d/mirrorlist&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>sudo pacman -S wine winetricks mpg123&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;アプリを起動する&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>wine path/to/hoge.exe&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;文字化けを直す&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>sudo cp /usr/share/fonts/TTF/*.ttf ~/.wine/drive_c/windows/Fonts
</span><span class='line'><span class="nv">$ </span>winetricks allfonts&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;フォントを綺麗にする<span class="o">(</span>不要<span class="o">)</span>&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>winetricks fontsmooth-rgb
</span></code></pre></td></tr></table></div></figure></p>

<p>場合によっては<code>mt4setup.exe</code>のインストーラーからインストールしようとすると、トラブルがあるかもしれないので、その場合は、Windowsで展開してから、<code>C/Program Files/MetaTrader 4</code>を<code>~/.wine/drive_c/Program Files</code>に持ってきましょう。</p>

<p>次に、VNC Serverを設定してみます。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo pacman -S tigervnc x11vnc&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>vncserver
</span><span class='line'><span class="nv">$ </span>vncserver -kill :1
</span><span class='line'><span class="nv">$ </span>chmod <span class="m">700</span> ~/.vnc&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>x0vncserver -display :0 -passwordfile ~/.vnc/passwd
</span></code></pre></td></tr></table></div></figure></p>

<p>クライアントからのアクセスは、Linuxからなら当該ツールを使います。<code>vncviewer</code></p>

<p>Macの場合はFinderから行います。メニュー,移動,サーバーへの接続。あと、環境設定は適切に行いましょう。デフォルトの設定は基本的に危険です。</p>

<p><img src="https://raw.githubusercontent.com/mba-hack/images/master/archlinux-vnc-server.png" alt="" /></p>

<p>Windowsからは、デフォルトでVNC Viewerあるのか知りませんが、なければ、<a href="http://www.uvnc.com/">uVNC</a>とかを使えばよいのでは&hellip;。</p>

<p>x11vncの場合は、例えば、<code>vnc://192.168.1.5:5900</code>とします。vncserverの場合はポートが<code>5901</code>になります。WANからアクセスできるようにする場合は、ルーターによるポート転送とiptable、sshトンネリングなどを設定すると良いです。もしLAN内でも秘匿回線を使いたい場合はそんな感じで。VNCは基本、トラフィックとかも暗号化されませんので。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;server&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>vncserver -geometry 1440x900 -alwaysshared -dpi <span class="m">96</span> -localhost :1&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;client&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>ssh IP_OF_TARGET_MACHINE -L 8900/localhost/5901
</span><span class='line'><span class="nv">$ </span>vncviewer localhost::8900
</span></code></pre></td></tr></table></div></figure></p>

<p>ローカルアドレスはスキャンしてもよいけど、固定しておいたほうが良さです。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo cp /etc/netctl/examples/ethernet-static /etc/netctl/eth0&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>sudo vim /etc/netctl/eth0
</span><span class='line'><span class="nv">Interface</span><span class="o">=</span>eth0 <span class="c">#ifconfig,iwconfigから</span>
</span><span class='line'><span class="nv">Connection</span><span class="o">=</span>ethernet
</span><span class='line'><span class="nv">IP</span><span class="o">=</span>static
</span><span class='line'><span class="nv">Address</span><span class="o">=(</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.1.5/5<span class="p">&amp;</span>rsquo<span class="p">;</span><span class="o">)</span>
</span><span class='line'><span class="nv">Gateway</span><span class="o">=</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.1.1<span class="p">&amp;</span>rsquo<span class="p">;</span>
</span><span class='line'><span class="nv">DNS</span><span class="o">=(</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.11.1<span class="p">&amp;</span>rsquo<span class="p">;</span><span class="o">)</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>sudo netctl start eth0
</span><span class='line'><span class="nv">$ </span>sudo netctl <span class="nb">enable </span>eth0
</span></code></pre></td></tr></table></div></figure></p>

<p>DNSは、障害が多い日本のプロバイダー提供である場合が多いと思いますが、問題があれば、Googleの<code>8.8.8.8</code>とか使うようにしておくと良いかもですね。</p>

<p>Wi-Fi接続を使うには、以下の様な感じ。</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo wifi-menu
</span><span class='line'><span class="nv">$ </span>sudo vim /etc/netctl/wlan0-xxxxxxxxxxx <span class="c">#wlan0=ifconfig,iwconfig</span>
</span><span class='line'><span class="nv">Address</span><span class="o">=(</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.1.5/5<span class="p">&amp;</span>rsquo<span class="p">;</span><span class="o">)</span>
</span><span class='line'><span class="nv">Gateway</span><span class="o">=</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.1.1<span class="p">&amp;</span>rsquo<span class="p">;</span>
</span><span class='line'><span class="nv">DNS</span><span class="o">=(</span><span class="p">&amp;</span>lsquo<span class="p">;</span>192.168.11.1<span class="p">&amp;</span>rsquo<span class="p">;</span><span class="o">)</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;<span class="nv">$ </span>sudo ifconfig wlan0 down
</span><span class='line'><span class="nv">$ </span>sudo netctl stop eth0
</span><span class='line'><span class="nv">$ </span>sudo netctl disable eth0
</span><span class='line'><span class="nv">$ </span>sudo netctl start wlan0-xxxxxxxxxxx
</span><span class='line'><span class="nv">$ </span>sudo netctl <span class="nb">enable </span>wlan0-xxxxxxxxxxx
</span></code></pre></td></tr></table></div></figure></p>

<h3>Historyデータの取得と反映</h3>

<p>以下のサイトから必要なものをダウンロードし、<code>metatrader4/history</code>に置きます(別に置かなくても良い)。その際、<code>.hst</code>を削除しておくと良いです。</p>

<p><a href="http://www.fxdd.com/bm/jp/forex-resources/forex-trading-tools/metatrader-1-minute-data/">http://www.fxdd.com/bm/jp/forex-resources/forex-trading-tools/metatrader-1-minute-data/</a></p>

<p>保存したデータをデータをツール,ヒストリーセンターからインポートします。</p>

<p>M1から他の時間チャートを作成するには(これによりチャート描写の信頼性が上昇します)、<a href="http://www.mql5.com/ru/code/11201">Period Converter All</a>というスクリプトを使います。</p>
]]></content>
  </entry>
  
</feed>
